{{log this}}
<div class="sheet-body-header">
    <div class="sheet-body-group">
        <div class="flexcol cav-health-section first">
            <div>Head</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.head.value"
                           value="{{data.health.head.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.head.max"
                           value="{{data.health.head.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section">
            <div>Torso</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.torso.value"
                           value="{{data.health.torso.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.torso.max"
                           value="{{data.health.torso.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section">
            <div>Left Arm</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.lArm.value"
                           value="{{data.health.lArm.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.lArm.max"
                           value="{{data.health.lArm.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section">
            <div>Right Arm</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.rArm.value"
                           value="{{data.health.rArm.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.rArm.max"
                           value="{{data.health.rArm.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section">
            <div>Left Leg</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.lLeg.value"
                           value="{{data.health.lLeg.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.lLeg.max"
                           value="{{data.health.lLeg.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section">
            <div>Right Leg</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.rLeg.value"
                           value="{{data.health.rLeg.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.rLeg.max"
                           value="{{data.health.rLeg.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
        <div class="flexcol cav-health-section last">
            <div>Reactor</div>
            <div class="flexrow">
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.reactor.value"
                           value="{{data.health.reactor.value}}"
                           data-dtype="Number" /></div>
                <div class="flex-0">/</div>
                <div><input class="cav-data flex-1"
                           type="text"
                           data-item-path="data.health.reactor.max"
                           value="{{data.health.reactor.max}}"
                           data-dtype="Number" /></div>
            </div>
        </div>
    </div>
</div>
<div class="flexrow">
    <div class="column1">
        <div class="sheet-body-group">
            <div class="flex-1">
                <div>MSR:</div>
                <div><input type="text"
                           value="{{data.MSR}}"
                           data-dtype="Number"
                           disabled="true" /></div>
            </div>
            <div class="flex-1">
                <div>Detonation Damage:</div>
                <div><input type="text"
                           value="{{data.detonationDamage}}"
                           data-dtype="String"
                           disabled="true" /></div>
            </div>
        </div>
        <h3>Speeds</h3>
        <div class="sheet-body-group">
            <div class="flex-1">
                <div>Standard Speed</div>
                <div><input type="text"
                           data-item-path="data.speed.standardSpeed"
                           value="{{data.speed.standardSpeed}}"
                           data-dtype="String"
                           disabled="true" /></div>
            </div>
            <div class="flex-1">
                <div>Boost Speed</div>
                <div><input type="text"
                           data-item-path="data.speed.boostSpeed"
                           value="{{data.speed.boostSpeed}}"
                           data-dtype="String"
                           disabled="true" /></div>
            </div>
        </div>
        <div>
            Combat Speeds
            <table>
                <tr>
                    <th></th>
                    <th>Hit Bonus</th>
                    <th>Momentum</th>
                    <th>Spaces Moved</th>
                </tr>
                {{#each data.speed.combatSpeeds as |combatSpeedData key|}}
                    <tr {{#if (eq ../curMovementSpeed key)}}
                        class="current-movement-speed"
                        {{/if}}>
                        <th>{{localize (lookup ../CONFIG.combatSpeeds key)}}</th>
                        <td><input type="text"
                                   data-item-path="data.speed.combatSpeeds.{{key}}.hitBonus"
                                   value="{{combatSpeedData.hitBonus}}"
                                   data-dtype="Number"
                                   disabled="true" />
                        </td>
                        <td><input type="text"
                                   data-item-path="data.speed.combatSpeeds.{{key}}.momentum"
                                   value="{{combatSpeedData.momentum~}} 
                                   &nbsp;{{#if (and (eq ../curMovementSpeed key) ../excessMomentum)~}} + {{../excessMomentum~}}
                                   {{/if}}"
                                   data-dtype="Number"
                                   disabled="true" />
                        </td>
                        <td><input type="text"
                                   data-item-path="data.speed.combatSpeeds.{{key}}.spacesMoved"
                                   value="{{combatSpeedData.spacesMoved}}"
                                   data-dtype="Number"
                                   disabled="true" />
                        </td>
                    </tr>
                {{/each}}
            </table>
        </div>
        <div>
            <h3>Traits</h3>
            {{#each data.traits as |description name|}}
                <div class="cav-trait">
                    <h4>{{name}}</h4>
                    <hr>
                    <p>{{description}}</p>
                </div>
            {{else}}
                This Cav has no traits
            {{/each}}
        </div>
        <h3>Items</h3>
        <div class="sheet-body-group">
            Items for CAVs have not been implemented yet.
        </div>
        <div class="weapons-header">
            <h3>Weapons</h3>
        </div>
        <div class="weapons">
            {{#if (gt (len weapons) 0)}}
                <table class="items-table">
                    <tr class="item items-header">
                        <th class="item-name">Name</th>
                        <th class="item-formula">Damage Roll</th>
                        <th class="item-formula">To Hit Bonus</th>
                        <th></th>
                    </tr>
                    {{#each weapons as |weapon id|}}
                        <tr class="item item-controls-container"
                            data-item-id="{{weapon._id}}">
                            <td class="item-name div-cell-wrapper">
                                <div class="name">{{weapon.name}}</div>
                                <div class="item-controls">
                                    {{#if ../editable}}
                                        <a class="item-roll rollable"
                                           data-roll-type="item"><i class="fas fa-dice"></i></a>
                                        <a class="item-edit"
                                           title="Edit Item"><i class="fas fa-edit"></i></a>
                                        <a class="item-control item-delete"
                                           title="Delete Item"><i class="fas fa-trash"></i></a>
                                    {{/if}}
                                </div>
                            </td>
                            <td class="item-prop">{{weapon.data.rolls.Normal.damageRoll}}</td>
                            <td class="item-prop">{{weapon.data.rolls.Normal.toHitBonus}}</td>
                        </tr>
                    {{/each}}
                </table>
            {{else}}
                <div>No Weapons have been added to this character yet</div>
            {{/if}}
        </div>
    </div>
    <div class="column2">
        <div class="skills-header">
            <h3>Skills</h3>
        </div>
        <div class="skills">
            {{#if (and learnedSkills (gt (len learnedSkills) 0))}}
                <table class="skills-table">
                    {{#each learnedSkills as |skill id|}}
                        <tr class="learned-skill item-controls-container item"
                            data-item-id="{{skill._id}}">
                            <td class="div-cell-wrapper">
                                {{#if (gt (lookup skill.data.cavValue ../_id) skill.data.value)}}
                                    <div class="name cav-boon">
                                {{/if}}
                                {{#if (lt (lookup skill.data.cavValue ../_id) skill.data.value)}}
                                    <div class="name cav-bane">
                                {{/if}}
                                {{#if (eq (lookup skill.data.cavValue ../_id) skill.data.value)}}
                                    <div class="name">
                                {{/if}}
                                {{skill.name}}
        </div>
        <div class="item-controls">
            <a class="item-roll rollable"
               data-roll-type="item"
               data-cav-id="{{../_id}}"><i class="fas fa-dice"></i></a>
            <a class="item-edit"
               title="Edit Item"><i class="fas fa-edit"></i></a>
            <a class="item-control item-delete"
               title="Delete Item"><i class="fas fa-trash"></i></a>
        </div>
        </td>
        <td>{{lookup skill.data.cavValue ../_id}}</td>
        </tr>
        {{/each}}
        </table>
        {{else}}
            <div>No skills have been added to this character yet</div>
            {{/if}}
    </div>
</div>
</div>